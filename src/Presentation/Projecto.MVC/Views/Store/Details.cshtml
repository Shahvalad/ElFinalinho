@model GetGameDto
@{
    int count = 0;
}

<main class="page-main">
    <ul class="uk-breadcrumb">
        <li><a asp-action="Index"><span data-uk-icon="chevron-left" class="uk-icon"><svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.03" points="13 16 7 10 13 4"></polyline></svg></span><span>Back to Store</span></a></li>
        <li><span>@Model.Name</span></li>
    </ul>
    <h3 class="uk-text-lead">@Model.Name</h3>
    <div class="uk-grid uk-grid-small uk-grid-stack" data-uk-grid="">
        <div class="uk-width-2-3@xl uk-first-column">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    @foreach(var image in Model.Images)
                    {
                        <li data-target="#carouselExampleIndicators" data-slide-to="@count" class="@(count == 0 ? "active" : "")"></li>
                        count++;
                    }
                </ol>
                <div class="carousel-inner">
                    @{count = 0;}
                    @foreach (var image in Model.Images)
                    {
                        <div class="carousel-item @(count == 0 ? "active" : "")">
                            <img class="d-block w-100" src="~/Images/Games/@image.FileName" alt="@count slide" style="object-fit: cover; height: 500px;">
                        </div>
                        count++;
                    }
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            <p>Comments</p>
            <div class="comments">
                <div class="comment">
                    <div class="comment__avatar"><img src="~/assets/img/user-1.png" alt="user"></div>
                    <div class="comment__box">
                        <div class="comment__title">John Doe</div>
                        <div class="comment__text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec purus feugiat, molestie ipsum et, consequat nibh. Etiam non elit dui. Nullam vel erat sed elit ultrices sollicitudin. Phasellus auctor auctor purus. Fusce varius.</div>
                    </div>
                </div>
                <div class="comment">
                    <div class="comment__avatar"><img src="~/assets/img/user-2.png" alt="user"></div>
                    <div class="comment__box">
                        <div class="comment__title">Jane Doe</div>
                        <div class="comment__text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec purus feugiat, molestie ipsum et, consequat nibh. Etiam non elit dui. Nullam vel erat sed elit ultrices sollicitudin. Phasellus auctor auctor purus. Fusce varius.</div>
                    </div>
                </div>
                </div>
        </div>
        <div class="uk-width-1-3@xl uk-grid-margin uk-first-column">
            <div class="game-profile-card">
                <div class="game-profile-card__media">
                    <img src="~/Images/Games/@Model.Images.Where(im=>im.IsCoverImage).Select(im=>im.FileName).FirstOrDefault()" alt="game-profile-card" style="height: 300px; object-fit: cover;">
                </div>                
                <div class="game-profile-card__intro"><span>@Model.Description</span></div>
                <ul class="game-profile-card__list">
                    <li>
                        <div>Reviews:</div>
                        <div class="game-card__rating"><span>4.7</span><i class="ico_star"></i><span class="rating-vote">(433)</span></div>
                    </li>
                    <li>
                        <div>Release date:</div>
                        <div>24 Apr, 2018</div>
                    </li>
                    <li>
                        <div>Publisher:</div>
                        <div>@Model.Publisher.Name</div>
                    </li>
                    <li>
                        <div>Developer:</div>
                        <div>@Model.Developer.Name</div>
                    </li>
                </ul>
                <ul class="game-profile-card__type">
                    @foreach(var genre in Model.GameGenres.Select(g=>g.Genre))
                    {
                        <li>@genre.Name</li>
                    }
                </ul>
            </div>
            <div class="game-profile-price">
                <a asp-controller="CheckOut" asp-action="CheckOut" asp-route-id="@Model.Id"><div class="game-profile-price__value">$@Model.Price USD</div><button class="uk-button uk-button-danger uk-width-1-1" type="button"><span class="ico_shopping-cart"></span><span>Buy Now</span></button><button class="uk-button uk-button-primary uk-width-1-1" type="button"><span class="ico_add-square"></span><span>Add to Favourites</span></button></a>
            </div>
        </div>
    </div>
</main>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>