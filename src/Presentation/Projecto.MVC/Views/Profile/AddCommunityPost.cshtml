@model List<GetPostDto>

@section AddCommunityPostStyles {
    <style>
        .post-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .post-grid__item {
            border: 1px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
        }

            .post-grid__item img {
                width: 100%;
                height: auto;
            }

            .post-grid__item .switch {
                display: flex;
                justify-content: center;
                padding: 10px;
            }
    </style>
}

<main class="container mt-5">
    @using (Html.BeginForm("SetDisplayedPost", "Profile", FormMethod.Post))
    {
        <div class="row">
            @foreach (var post in Model)
            {
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <img class="card-img-top" src="~/Images/CommunityPosts/@post.Image" />
                        <div class="card-body">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="@("customSwitch" + post.Id)" name="postId" value="@post.Id">
                                <label class="custom-control-label" for="@("customSwitch" + post.Id)">Display on profile</label>
                            </div>
                        </div>
                    </div>
                </div>
            }
            <div class="col-12">
                <button type="submit" class="btn btn-primary btn-sm">Apply Changes</button>
            </div>
        </div>
    }
</main>
@section AddCommunityPostScripts2{
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.custom-control-input').on('change', function () {
                $('.custom-control-input').not(this).prop('checked', false);
            });
        });
    </script>
}
